extend player

block playercontent
  .row
    .col-md-6
      h3 Observers
        small (#{player.aggData.obs.n} matches)
      #mapObs.mapContainer.mapContainer-small
        img.map(src='//cdn.rawgit.com/kronusme/dota2-api/master/images/map/dota-map-6.82.jpg', alt="observer wards map")
    .col-md-6
      h3 Sentries
        small (#{player.aggData.sen.n} matches)
      #mapSen.mapContainer.mapContainer-small
        img.map(src='//cdn.rawgit.com/kronusme/dota2-api/master/images/map/dota-map-6.82.jpg', alt="sentry wards map")

append footer_assets
  script.
    $(document).ready(function() {
      var posData = !{JSON.stringify(player.posData)};
      window.resize.initResizableHeatmap($('#mapObs'), posData, null, null,
        function(elem, posData) {
          return posData[0]["obs"];
      });
      window.resize.initResizableHeatmap($('#mapSen'), posData, null, null,
        function(elem, posData) {
          return posData[0]["sen"];
      });
    });
